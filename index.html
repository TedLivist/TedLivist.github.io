<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Word Counter</title>
        <style>
            textarea {
                width: 250px;
                height: 250px;
            }
        </style>
    </head>
    <body>

        <textarea></textarea>
        <button>Count</button>
        <p></p>

        <script>
            let text = document.querySelector("textarea");
            let countBtn = document.querySelector("button");
            let para = document.querySelector("p");

            countBtn.onclick = function() {

                let textVal = text.value;

                if (textVal !== "") {

                    let finalItems = [];
                    if (textVal.includes("\n")) {
                        let textSplit = textVal.split("\n");
                        console.log(textSplit.length);
                        for (let i = 0; i < textSplit.length; i++) {
                            if (textSplit[i].includes(" ")) {
                                let items = textSplit[i].split(" ");
                                
                                finalItems.push(items);
                            }
                        }

                        let flatFinal = finalItems.flat();

                        console.log(flatFinal);

                        for (let j = 0; j < flatFinal.length; j++) {
                            if (flatFinal[j] === "") {
                                console.log(flatFinal.splice(j, 1));
                            }
                        }

                        para.textContent = "You have " + flatFinal.length + " word(s) in your message.";

                        console.log(flatFinal);

                    } else if (textVal.includes(" ")) {

                        let spaceTextSplit = textVal.split(" ");
                        console.log(spaceTextSplit.length);

                        for (let i = 0; i < spaceTextSplit.length; i++) {
                            if (spaceTextSplit[i] === "") {
                                console.log(spaceTextSplit.splice(i, 1));
                            }
                        }

                        para.textContent = "You have " + spaceTextSplit.length + " word(s) in your message.";

                    } else {

                        para.textContent = "You have 1 word in your message.";

                    }

                } else {

                    para.textContent = "Please enter your message in the box";
                    
                }
            }
        </script>

    </body>
</html>